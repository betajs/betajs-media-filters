<!DOCTYPE html>
<html lang="en">
	<head>
		<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
		<script src="../node_modules/betajs-shims/dist/betajs-shims.js"></script>		
        <script src="../node_modules/betajs-scoped/dist/scoped.js"></script>
        <script src="../node_modules/betajs/dist/beta-noscoped.js"></script>
        <script src="../node_modules/betajs-browser/dist/betajs-browser-noscoped.js"></script>
        <script src="../node_modules/betajs-flash/dist/betajs-flash-noscoped.js"></script>
        <script src="../dist/betajs-media-noscoped.js"></script>
	</head>
	<body>
	   <textarea id="constraints" rows=10 cols=50>{"video": {"width":1920, "height":1080}}</textarea>
	   <button id="go">OK</button>
	   <script>
	    $("#go").on("click", function () {
	    	var constraints = JSON.parse($("#constraints").val().trim());
	    	BetaJS.Media.WebRTC.Support.userMedia2(constraints).success(function (stream) {
	    		console.log("Success", stream);
	    		BetaJS.Media.WebRTC.Support.streamQueryResolution(stream).success(function (resolution) {
	    			console.log("Resolution", resolution);
	    		});
	        }).error(function (error) {
	    		console.log("Error", error);
	    	});
	    });	   
	   </script>
	</body>
</html>